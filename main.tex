%-------------------------------------------------------------------
%-------------------------------------------------------------------
%----------------------   BA Andreas Korb   ------------------------
%-------------------------------------------------------------------
%-------------------------------------------------------------------


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%  Preamble  %%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\documentclass[
	11pt,			%Font size
	a4paper,		%Sheet size
	DIV=12,			%Type area (division into boxes)
	parskip=half,	%No indentation but line spacing for new paragraph
	headsepline,	%For dividing line on head side
	automark,
  bibliography=totoc  %Add references to table of contents
	]{scrartcl}

%Todo Randausgleich

%Cross-platform
\usepackage[utf8]{inputenc}

%Font coding
\usepackage[T1]{fontenc}

%German Umlauts / Coding / Hyphenation
%\usepackage[ngerman]{babel}
%improved edge compensation
\usepackage{microtype}		

%Random text
\usepackage{blindtext}

%Code highlighting
\usepackage{minted}

\usepackage[hidelinks]{hyperref}

%Embed references
\usepackage{csquotes}
\usepackage{xcolor}
\definecolor{thi}{RGB}{0,90,155}
\hypersetup{
	colorlinks,
	linkcolor={thi},
	urlcolor={thi},
	citecolor={thi},
}

% sorting=none that they appear in the order they're used
\usepackage[sorting=none, sortcites]{biblatex}

\addbibresource{references.bib}

%Set font
%Default cmr10 --> Computer Modern Roman 10pt (stored as bitmap)
\usepackage{lmodern}	%Vector version of cmr10

%\renewcommand{\familydefault}{\sfdefault}	%sf --> Without serifs

%Embed fonts
\usepackage{graphicx}
\usepackage{import}
\graphicspath{{images/}}

%Embed maths
\usepackage{amsmath,amssymb}

%Use euro sign
\usepackage[official]{eurosym}

%Improved table display
\usepackage{booktabs}

%Display table and figures next to text
\usepackage{wrapfig}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%  Cover page  %%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\author{Andreas Diemo Korb\vspace{9ex}}
\title{Evaluating approaches for more efficient UDS protocol scanning}
\subtitle{\vspace{1.5ex} to obtain the academic degree Bachelor of Science\vspace{3ex}}

\date{}

%Information on the bottom side of the cover sheet
\publishers{
	\begin{tabular}{rl}
		\textbf{Study program}	    & Bachelor Computer Science \\ 
		\textbf{Faculty}		    & Computer Science \\
		\textbf{Issue date}	        & \today \\
		\vspace{6ex}
	\end{tabular}
	
	\begin{tabular}{rl}
		\textbf{First supervisor}	& Prof. Dr. Hans-Michael Windisch \\
		\textbf{Second supervisor}	& Prof. Dr. Ulrich Margull \\
		\textbf{External supervisor}& Lukas Lisowski \\
		\textbf{External company}	& eMundo GmbH
	\end{tabular} 
}


%Header and footer
\usepackage[automark,footsepline,plainfootsepline]{scrlayer-scrpage}
\pagestyle{scrheadings}
\clearpairofpagestyles
\ihead{\leftmark}
\ifoot{Andreas Korb}
\ofoot*{\pagemark}

%THI Logo at the beginning of the cover page
\titlehead{
	\hfil	%Horizontal gap
	\includegraphics[width=0.3\textwidth]{thi_logo_cropped}   \hspace*{3cm}\includegraphics[width=0.3\textwidth]{emundo}
	\hfil
}

% begin appendix autoref patch [\autoref subsections in appendix](https://tex.stackexchange.com/a/149897)
\usepackage{appendix}

\def\sectionautorefname{Section}
\def\subsectionautorefname{Section}
\def\subsubsectionautorefname{Section}
\def\appendixautorefname{Appendix}

\usepackage{etoolbox}
\makeatletter
\patchcmd{\hyper@makecurrent}{%
    \ifx\Hy@param\Hy@chapterstring
        \let\Hy@param\Hy@chapapp
    \fi
}{%
    \iftoggle{inappendix}{%true-branch
        % list the names of all sectioning counters here
        \@checkappendixparam{chapter}%
        \@checkappendixparam{section}%
        \@checkappendixparam{subsection}%
        \@checkappendixparam{subsubsection}%
        \@checkappendixparam{paragraph}%
        \@checkappendixparam{subparagraph}%
    }{}%
}{}{\errmessage{failed to patch}}

\newcommand*{\@checkappendixparam}[1]{%
    \def\@checkappendixparamtmp{#1}%
    \ifx\Hy@param\@checkappendixparamtmp
        \let\Hy@param\Hy@appendixstring
    \fi
}
\makeatletter

\newtoggle{inappendix}
\togglefalse{inappendix}

\apptocmd{\appendix}{\toggletrue{inappendix}}{}{\errmessage{failed to patch}}
\apptocmd{\subappendices}{\toggletrue{inappendix}}{}{\errmessage{failed to patch}}
% end appendix autoref patch


\makeatletter

\newcommand\frontmatter{%
    \cleardoublepage
  %\@mainmatterfalse
  \pagenumbering{roman}}

\newcommand\mainmatter{%
    \cleardoublepage
 % \@mainmattertrue
  \pagenumbering{arabic}}

\newcommand\backmatter{%
  \if@openright
    \cleardoublepage
  \else
    \clearpage
  \fi
 % \@mainmatterfalse
   }

\makeatother



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%  Document begin  %%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}
\frontmatter

\maketitle
\thispagestyle{empty}

\addcontentsline{toc}{section}{Erkl√§rung}
\include{chapters/erklaerung}

\setcounter{tocdepth}{2} 	% Table of contents only Chapters and Sections
\thispagestyle{plain}
\tableofcontents


\mainmatter

\setcounter{page}{4} 

\include{chapters/1_introduction}
\include{chapters/2_background}
\include{chapters/3_data-gathering}
\include{chapters/4_elaborating-approaches}
\include{chapters/5_implementation}
\include{chapters/6_results}
\include{chapters/7_conclusion-and-future-work}

\include{chapters/8_closing-words}

\cleardoublepage

\listoffigures

\cleardoublepage

\printbibliography

\include{chapters/appendix}

\end{document}
